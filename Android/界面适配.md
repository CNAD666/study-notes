# 界面适配

- [今日头条适配方案](https://mp.weixin.qq.com/s?__biz=MzI1MzYzMjE0MQ==&mid=2247484502&idx=2&sn=a60ea223de4171dd2022bc2c71e09351&scene=21#wechat_redirect)

## 单位转换

**单位说明**

- px  ：是屏幕的像素点
- dp  ：一个基于density的抽象单位，如果一个160dpi的屏幕，1dp=1px
  - dip  ：等同于dp
- sp  ：同dp相似，但还会根据用户的字体大小偏好来缩放(建议使用sp作为文本的单位，其它用dip)

**android中的dp在渲染前会将dp转为px，计算公式：**

- px = density * dp;
- density = dpi / 160;
- px = dp * (dpi / 160);

**屏幕尺寸、分辨率、像素密度三者关系**

![](https://raw.githubusercontent.com/CNAD666/MyData/master/pic/store/20200402104045.png)

**例子：屏幕分辨率为：1920*1080，屏幕尺寸为5吋的话，那么dpi为440。**

![](https://raw.githubusercontent.com/CNAD666/MyData/master/pic/store/20200402104153.png)

## 关于View

- requestLayout方法和invalidate方法

  ```
  requestLayout方法会导致View的onMeasure、onLayout、onDraw方法被调用；invalidate方法则只会导致View的onDraw方法被调用
  ```

  